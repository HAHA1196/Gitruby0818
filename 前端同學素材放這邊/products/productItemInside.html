<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="./reset.css" />
        <link rel="stylesheet" href="./productItemInside.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css"
            rel="stylesheet"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js"></script>
    </head>
    <body>
        <header>Cora design</header>
        <main>
            <section>
                <div class="productsInfo">
                    <!-- <div class="productsPic">
                <img src="https://picsum.photos/300/300/?random=1" />
              </div> -->
                    <div
                        class="fotorama"
                        data-width="500"
                        data-height="500"
                        data-nav="thumbs"
                        data-loop="true"
                        data-thumbwidth="100"
                        data-thumbheight="100"
                    >
                        <img
                            class="smallPic"
                            src="https://picsum.photos/500/500/?random=1"
                        />
                        <img
                            class="smallPic"
                            src="https://picsum.photos/500/500/?random=2"
                        />
                        <img
                            class="smallPic"
                            src="https://picsum.photos/500/500/?random=3"
                        />
                        <img
                            class="smallPic"
                            src="https://picsum.photos/500/500/?random=4"
                        />
                        <img
                            class="smallPic"
                            src="https://picsum.photos/500/500/?random=5"
                        />
                    </div>
                    <div class="productsBuy">
                        <div class="productsBuyContainer">
                            <div class="productsBuyTitle">
                                <p>Tag</p>
                                <h1>PRODUCT TITLE</h1>
                                <h3>NT$2,000</h3>
                            </div>
                            <div class="productsBuyNum">
                                <div>
                                    <p>Size</p>
                                    <select class="productsBuyNumSize">
                                        <option value="L">L</option>
                                        <option value="M">M</option>
                                        <option value="S">S</option>
                                        <option value="XS">XS</option>
                                    </select>
                                </div>
                                <div>
                                    <p>Quantity</p>
                                    <select class="productsBuyNumQuantity">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10+">10+</option>
                                    </select>
                                    <p class="productsBuyNumSold">SOLD OUT</p>
                                </div>
                            </div>
                            <button class="addToCart">Add to cart</button>
                            <div class="productsShipping">
                                <div class="shipping">Shipping</div>
                                <div class="shippingPlus">+</div>
                                <div class="shippingMinus">-</div>
                            </div>
                            <ul class="shippingDetails">
                                <li>Japan、Korea、Singapore</li>
                                <li>
                                    Malaysia、Thailand、Vietnam、Philippines、Indonesia、Myanmar、Brunei、Cambodia
                                </li>
                                <li>United States、Canada</li>
                                <li>Australia、New Zealand、India</li>
                                <li>
                                    Germany、France、United
                                    Kingdom、Spain、Czech
                                    Republic、Sweden、Italy、Portugal、Greece、Netherlands、Switzerland、Romania
                                    、Denmark、Norway
                                    、Finland、Austria、Belgium、Hungary、Ireland、Monaco、Poland、Cyprus
                                </li>
                                <li>順豐快遞（運費到付）中國、香港、澳門</li>
                                <li>7-11 取貨不付款 (C2C)</li>
                            </ul>
                        </div>
                    </div>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit.
                        Labore soluta facilis quibusdam non laudantium eaque
                        deleniti quae nobis tempora provident commodi
                        consequatur quia minus quasi iusto ipsam, autem enim
                        ratione atque perspiciatis necessitatibus. Corporis
                        cupiditate molestiae quis laborum consequuntur officiis
                        recusandae tempora harum animi aliquid odio quaerat quo
                        veniam illum tempore deleniti autem alias ipsum iste,
                        nemo reprehenderit! Rerum provident harum, blanditiis
                        numquam unde maxime incidunt accusantium, est illum
                        pariatur ex tempore aut! Possimus labore facilis rem
                        perspiciatis nesciunt quisquam! Delectus maxime,
                        reiciendis, accusamus quae a iusto similique natus
                        necessitatibus fuga eos molestiae suscipit magnam sit
                        praesentium quis. Consequuntur quisquam dolorem eligendi
                        possimus optio, nemo odio tempore fuga labore. Facilis
                        facere quae odit architecto error possimus ex illo
                        dignissimos consequuntur velit maiores, aspernatur
                        dolore tenetur. Hic quos ab non officiis? Suscipit,
                        voluptas animi beatae possimus doloremque accusamus ad
                        iste provident ut? Quae qui magni quisquam delectus
                        voluptate incidunt nisi vero ipsa dolor illo! Reiciendis
                        doloremque debitis, porro quod provident minima
                        temporibus possimus ad! Similique quo cum quas pariatur
                        recusandae asperiores autem a explicabo, non aliquam.
                        Tenetur beatae doloribus suscipit tempora nam
                        dignissimos consequuntur ab iste laboriosam consequatur
                        mollitia cumque quis, maiores reprehenderit voluptatum
                        voluptates nemo harum. Necessitatibus optio
                        exercitationem qui.
                    </p>
                    <div class="productsDesc">
                        <h2>Description</h2>
                        <p>
                            Lorem ipsum dolor sit, <br />
                            amet consectetur adipisicing elit. <br />
                            Beatae officia repellendus perferendis <br />
                            cumque omnis fugiat consequuntur! <br />
                            Ea, maxime dolore dolorum provident, <br />
                            esse minus beatae, <br />
                            at corporis repellat doloremque nisi alias.
                        </p>
                    </div>
                    <div class="productsSpec">
                        <h2>Specification</h2>
                        <ul>
                            <li>L : Lorem ipsum dolor sit amet.</li>
                            <li>M : Lorem ipsum dolor sit amet.</li>
                            <li>S : Lorem ipsum dolor sit amet.</li>
                            <li>XS : Lorem ipsum dolor sit amet.</li>
                        </ul>
                    </div>
                </div>
            </section>
            <div class="productsBuyCart">
                <div class="productsCart">
                    <div class="cartTitle">
                        <p>Shopping Cart</p>
                        <span class="cartExit">x</span>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=2"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=3"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <div class="cartItem">
                        <div class="cartItemPic">
                            <img
                                src="https://picsum.photos/100/100/?random=1"
                            />
                        </div>
                        <div class="cartItemProducts">
                            <p>“TYPE-X” 3D L/S Pocket Tee - Iron</p>
                            <div class="cartItemProductsDelete">x</div>
                            <p>M</p>
                            <p>1 x NT$1580</p>
                        </div>
                    </div>
                    <button class="cartCheckout">Order Checkout</button>
                </div>
            </div>
            <div class="productsPage">
                <a href="./products.html">Back to list</a>
            </div>
        </main>
        <footer>Cora design</footer>

        <script>
            $(".productsBuyNumSize").on("change", function () {
                if ($(".productsBuyNumSize")[0].value == "S") {
                    $(".productsBuyNumQuantity").css("display", "none");
                    $(".productsBuyNumSold").css("display", "block");
                } else {
                    $(".productsBuyNumSold").css("display", "none");
                    $(".productsBuyNumQuantity").css("display", "block");
                }
                console.log($(".productsBuyNumQuantity")[0].value);
            });

            let flag = 0;
            $(document).ready(function () {
                let plus = $(".shippingPlus");
                let minus = $(".shippingMinus");
                $(".shipping").click(function () {
                    $(".shippingDetails").slideToggle();
                    flag == 0
                        ? plus.css("display", "none")
                        : plus.css("display", "block");
                    flag == 0
                        ? minus.css("display", "block")
                        : minus.css("display", "none");
                    flag == 0 ? (flag = 1) : (flag = 0);
                });
                $(".shippingPlus").click(function () {
                    $(".shippingDetails").slideToggle();
                    flag == 0
                        ? plus.css("display", "none")
                        : plus.css("display", "block");
                    flag == 0
                        ? minus.css("display", "block")
                        : minus.css("display", "none");
                    flag == 0 ? (flag = 1) : (flag = 0);
                });
                $(".shippingMinus").click(function () {
                    $(".shippingDetails").slideToggle();
                    flag == 0
                        ? plus.css("display", "none")
                        : plus.css("display", "block");
                    flag == 0
                        ? minus.css("display", "block")
                        : minus.css("display", "none");
                    flag == 0 ? (flag = 1) : (flag = 0);
                });
            });

            let products = $(".productsBuyContainer")[0];
            $(document).ready(function () {
                function scrollEffect() {
                    $(window).scroll(function () {
                        console.log($(window).width());
                        if (products.scrollHeight + 100 > $(window).height()) {
                            if (
                                $(window).height() + $(window).scrollTop() >=
                                2200
                            ) {
                                products.style.position = "fixed";
                                products.style.top = "";
                                products.style.bottom = "60px";
                                products.style.width = "50%";
                                products.style.left = "50%";
                                products.style.padding = "0 80px 0 80px";
                            } else if (
                                $(window).height() + $(window).scrollTop() >=
                                products.scrollHeight + 100
                            ) {
                                products.style.position = "fixed";
                                products.style.top = "";
                                products.style.bottom = "10px";
                                products.style.width = "50%";
                                products.style.left = "50%";
                                products.style.padding = "0 80px 0 80px";
                            } else {
                                products.style.position = "absolute";
                                products.style.top = "50px";
                                products.style.bottom = "";
                                products.style.width = "50%";
                                products.style.left = "50%";
                                products.style.padding = "0 80px 0 80px";
                            }
                        } else {
                            products.style.position = "fixed";
                            products.style.top = "100px";
                            products.style.width = "50%";
                            products.style.left = "50%";
                            products.style.padding = "0 80px 0 80px";
                        }
                        console.log(products.scrollHeight);
                        console.log($(window).height());
                        console.log($(window).scrollTop());
                    });
                }

                if ($(window).width() >= 992) {
                    products.style.position = "absolute";
                    products.style.top = "50px";
                    products.style.bottom = "";
                    products.style.width = "50%";
                    products.style.left = "50%";
                    products.style.padding = "0 80px 0 80px";
                    scrollEffect();
                    $(window).on("resize", function () {
                        if ($(window).width() >= 992) {
                            scrollEffect();
                        } else {
                            products.style.position = "relative";
                            products.style.width = "100%";
                            products.style.top = "0";
                            products.style.bottom = "0";
                            products.style.left = "0";
                            products.style.padding = "0 30px";
                            $(window).scroll(function () {
                                products.style.position = "relative";
                                products.style.width = "100%";
                                products.style.top = "0";
                                products.style.bottom = "0";
                                products.style.left = "0";
                                products.style.padding = "0 30px";
                            });
                        }
                    });
                } else {
                    products.style.position = "relative";
                    products.style.width = "100%";
                    products.style.top = "0";
                    products.style.bottom = "0";
                    products.style.left = "0";
                    products.style.padding = "0 30px";
                    $(window).on("resize", function () {
                        if ($(window).width() >= 992) {
                            products.style.position = "absolute";
                            products.style.top = "50px";
                            products.style.bottom = "";
                            products.style.width = "50%";
                            products.style.left = "50%";
                            products.style.padding = "0 80px 0 80px";
                            scrollEffect();
                        } else {
                            products.style.position = "relative";
                            products.style.width = "100%";
                            products.style.top = "0";
                            products.style.bottom = "0";
                            products.style.left = "0";
                            products.style.padding = "0 30px";
                            $(window).scroll(function () {
                                products.style.position = "relative";
                                products.style.width = "100%";
                                products.style.top = "0";
                                products.style.bottom = "0";
                                products.style.left = "0";
                                products.style.padding = "0 30px";
                            });
                        }
                    });
                }
            });

            $(document).ready(function () {
                $(".addToCart").on("click", function () {
                    console.log("shit");
                    $(".productsBuyCart").css("display", "block");
                    $(".productsCart").css("display", "block");
                    $(".cartItem").css("display", "flex");
                });
                $(".cartItemProductsDelete").on("click", function () {
                    $(".cartItem").css("display", "none");
                });
                $(".cartExit").on("click", function () {
                    $(".productsBuyCart").css("display", "none");
                });
                $(window).scroll(function () {
                    let cartStickTop = 50 - $(window).scrollTop();
                    if ($(window).scrollTop() <= 50) {
                        $(".productsCart").css("top", cartStickTop);
                    } else {
                        $(".productsCart").css("top", 0);
                    }
                });
            });
        </script>
    </body>
</html>
